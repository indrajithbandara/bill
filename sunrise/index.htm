<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

	<head>
		<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />

		<title>Sunrise Communication Invoice</title>

		<link rel='stylesheet' type='text/css' href='../css/style.css' />
		<link rel='stylesheet' type='text/css' href='../css/print.css' media="print" />
		<script type='text/javascript' src='../js/jquery-1.3.2.min.js'></script>
		<!-- <script type='text/javascript' src='js/example.js'></script> -->

	</head>

	<body>

		<div id="page-wrap">

			<textarea id="header">INVOICE</textarea>

			<div id="identity">

<textarea id="address">Sunrise Communication
Jalan Majapahit 8
80361 Kuta, Bali. Indonesia.

email: sunrise.communication@gmail.com
</textarea>

	      <div id="logo">

	        <div id="logoctr">
	          <!-- <a href="javascript:;" id="change-logo" title="Change logo">Change Logo</a> -->
	          <a href="javascript:;" id="save-logo" title="Save changes">Save</a>

	          <a href="javascript:;" id="delete-logo" title="Delete logo">Delete Logo</a>
	          <a href="javascript:;" id="cancel-logo" title="Cancel changes">Cancel</a>
	        </div>

	        <div id="logohelp">
	          <input id="imageloc" type="text" size="50" value="" /><br />
	          (max width: 540px, max height: 100px)
	        </div>
	        <!-- <img id="image" src="images/logo.png" alt="logo" /> -->
					<div class="invoice_logo">
						<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20">
							<path d="M4.46 5.16l.54 2.3-.54 2.29 2.01 1.24 1.23 2.01 2.3-.54 2.3.54 1.23-2.01 2.01-1.24-.54-2.29.54-2.3-2-1.24-1.24-2.01-2.3.55-2.29-.54-1.25 2zm5.55 6.34q-1.67 0-2.84-1.17t-1.17-2.84q0-1.65 1.175-2.82t2.835-1.17q1.65 0 2.82 1.17t1.17 2.82q0 1.66-1.17 2.835t-2.82 1.175zm-.02-1q-1.24 0-2.115-.875t-.875-2.125q0-1.24.875-2.12t2.115-.88 2.125.88.885 2.12-.88 2.12-2.13.88zm3.84 1.1l-1.28 2.24-2.08-.47 2.53 5.83 1.4-2.2h2.5zm-7.7.07l1.25 2.25 2.13-.51-2.51 5.79-1.4-2.2h-2.5z"/>
						</svg>
					</div>
	      </div>

			</div>

			<div style="clear:both"></div>

			<div id="customer">

<textarea id="customer-title">Paradise Holidays
c/o Steve Wizard</textarea>

	      <table id="meta">
	        <tr>
	            <td class="meta-head">Invoice #</td>
	            <td><textarea>000123</textarea></td>
	        </tr>
	        <tr>

	            <td class="meta-head">Date</td>
	            <td><textarea id="date">December 11, 2015</textarea></td>
	        </tr>
	        <tr>
	            <td class="meta-head">Amount Due</td>
	            <td><div class="due">$875.00</div></td>
	        </tr>

	      </table>

			</div>

			<table id="items">

			  <tr>
		      <th>Item</th>
		      <th>Description</th>
		      <th>Unit Cost</th>
		      <th>Quantity</th>
		      <th>Price</th>
			  </tr>

			  <tr class="item-row">
		      <td class="item-name"><div class="delete-wpr"><textarea>Web Updates</textarea><a class="delete" href="javascript:;" title="Remove row">X</a></div></td>
		      <td class="description"><textarea>Monthly web updates for http://paradiseholiday.com (Nov. 1 - Nov. 30, 2015)</textarea></td>
		      <td><textarea class="cost">$650.00</textarea></td>
		      <td><textarea class="qty">1</textarea></td>
		      <td><span class="price">$650.00</span></td>
			  </tr>

			  <tr class="item-row">
		      <td class="item-name"><div class="delete-wpr"><textarea>SSL Renewals</textarea><a class="delete" href="javascript:;" title="Remove row">X</a></div></td>

		      <td class="description"><textarea>Yearly renewals of SSL certificates on main domain and several subdomains</textarea></td>
		      <td><textarea class="cost">$75.00</textarea></td>
		      <td><textarea class="qty">3</textarea></td>
		      <td><span class="price">$225.00</span></td>
			  </tr>

			  <tr id="hiderow" class="hiderow">
			    <td colspan="5"><a id="addrow" class="addrow" href="javascript:;" title="Add a row">Add a row</a></td>
			  </tr>

			  <tr>
		      <td colspan="2" class="blank"> </td>
		      <td colspan="2" class="total-line">Subtotal</td>
		      <td class="total-value"><div id="subtotal">$875.00</div></td>
			  </tr>
			  <tr>
		      <td colspan="2" class="blank"> </td>
		      <td colspan="2" class="total-line">Total</td>
		      <td class="total-value"><div id="total">$875.00</div></td>
			  </tr>
			  <tr>
		      <td colspan="2" class="blank"> </td>
		      <td colspan="2" class="total-line">Amount Paid</td>
		      <td class="total-value"><textarea id="paid">$0.00</textarea></td>
			  </tr>
			  <tr>
		      <td colspan="2" class="blank"> </td>
		      <td colspan="2" class="total-line balance">Balance Due</td>
		      <td class="total-value balance"><div class="due">$875.00</div></td>
			  </tr>

			</table>

			<div id="terms">
			  <h5>Notes</h5>
			  <textarea>Paid.</textarea>
			</div>

		</div>


		<script type="text/javascript">
		function print_today() {
		  // ***********************************************
		  // AUTHOR: WWW.CGISCRIPT.NET, LLC
		  // URL: http://www.cgiscript.net
		  // Use the script, just leave this message intact.
		  // Download your FREE CGI/Perl Scripts today!
		  // ( http://www.cgiscript.net/scripts.htm )
		  // ***********************************************
		  var now = new Date();
		  var months = new Array('January','February','March','April','May','June','July','August','September','October','November','December');
		  var date = ((now.getDate()<10) ? "0" : "")+ now.getDate();
		  function fourdigits(number) {
		    return (number < 1000) ? number + 1900 : number;
		  }
		  var today =  months[now.getMonth()] + " " + date + ", " + (fourdigits(now.getYear()));
		  return today;
		}

		// from http://www.mediacollege.com/internet/javascript/number/round.html
		function roundNumber(number,decimals) {
		  var newString;// The new rounded number
		  decimals = Number(decimals);
		  if (decimals < 1) {
		    newString = (Math.round(number)).toString();
		  } else {
		    var numString = number.toString();
		    if (numString.lastIndexOf(".") == -1) {// If there is no decimal point
		      numString += ".";// give it one at the end
		    }
		    var cutoff = numString.lastIndexOf(".") + decimals;// The point at which to truncate the number
		    var d1 = Number(numString.substring(cutoff,cutoff+1));// The value of the last decimal place that we'll end up with
		    var d2 = Number(numString.substring(cutoff+1,cutoff+2));// The next decimal, after the last one we want
		    if (d2 >= 5) {// Do we need to round up at all? If not, the string will just be truncated
		      if (d1 == 9 && cutoff > 0) {// If the last digit is 9, find a new cutoff point
		        while (cutoff > 0 && (d1 == 9 || isNaN(d1))) {
		          if (d1 != ".") {
		            cutoff -= 1;
		            d1 = Number(numString.substring(cutoff,cutoff+1));
		          } else {
		            cutoff -= 1;
		          }
		        }
		      }
		      d1 += 1;
		    }
		    if (d1 == 10) {
		      numString = numString.substring(0, numString.lastIndexOf("."));
		      var roundedNum = Number(numString) + 1;
		      newString = roundedNum.toString() + '.';
		    } else {
		      newString = numString.substring(0,cutoff) + d1.toString();
		    }
		  }
		  if (newString.lastIndexOf(".") == -1) {// Do this again, to the new string
		    newString += ".";
		  }
		  var decs = (newString.substring(newString.lastIndexOf(".")+1)).length;
		  for(var i=0;i<decimals-decs;i++) newString += "0";
		  //var newNumber = Number(newString);// make it a number if you like
		  return newString; // Output the result to the form field (change for your purposes)
		}

		function update_total() {
		  var total = 0;
		  $('.price').each(function(i){
		    price = $(this).html().replace("$","");
		    if (!isNaN(price)) total += Number(price);
		  });

		  total = roundNumber(total,2);

		  $('#subtotal').html("$"+total);
		  $('#total').html("$"+total);

		  update_balance();
		}

		function update_balance() {
		  var due = $("#total").html().replace("$","") - $("#paid").val().replace("$","");
		  due = roundNumber(due,2);

		  $('.due').html("$"+due);
		}

		function update_price() {
		  var row = $(this).parents('.item-row');
		  var price = row.find('.cost').val().replace("$","") * row.find('.qty').val();
		  price = roundNumber(price,2);
		  isNaN(price) ? row.find('.price').html("N/A") : row.find('.price').html("$"+price);

		  update_total();
		}

		function bind() {
		  $(".cost").blur(update_price);
		  $(".qty").blur(update_price);
		}

		$(document).ready(function() {

		  $('input').click(function(){
		    $(this).select();
		  });

		  $("#paid").blur(update_balance);

		  $("#addrow").click(function(){
		    $(".item-row:last").after('<tr class="item-row"><td class="item-name"><div class="delete-wpr"><textarea>Item Name</textarea><a class="delete" href="javascript:;" title="Remove row">X</a></div></td><td class="description"><textarea>Description</textarea></td><td><textarea class="cost">$0</textarea></td><td><textarea class="qty">0</textarea></td><td><span class="price">$0</span></td></tr>');
		    if ($(".delete").length > 0) $(".delete").show();
		    bind();
		  });

		  bind();

		  $(".delete").live('click',function(){
		    $(this).parents('.item-row').remove();
		    update_total();
		    if ($(".delete").length < 2) $(".delete").hide();
		  });

		  $("#cancel-logo").click(function(){
		    $("#logo").removeClass('edit');
		  });
		  $("#delete-logo").click(function(){
		    $("#logo").remove();
		  });
		  $("#change-logo").click(function(){
		    $("#logo").addClass('edit');
		    $("#imageloc").val($("#image").attr('src'));
		    $("#image").select();
		  });
		  $("#save-logo").click(function(){
		    $("#image").attr('src',$("#imageloc").val());
		    $("#logo").removeClass('edit');
		  });

		  $("#date").val(print_today());

		});

		</script>

	</body>

</html>
